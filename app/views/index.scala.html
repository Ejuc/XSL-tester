@(xml: String, xsl: String, result: String)

@main("XSL Tester") {

        <div id="xmleditor"></div>
        <div id="xsleditor"></div>
        <div id="resulteditor"></div>

        <div id="actions">
            <form id="files" method="post" style="display: none;">
                <textarea id="xml" name="xml">@xml</textarea>
                <textarea id="xsl" name="xsl">@xsl</textarea>
                <textarea id="result" name="result">@result</textarea>
            </form>
            <a id="transform">Transform</a>
            <br/>
            <a id="pdf">Result 2 PDF</a>
        </div>

    <script src="http://d1n0x3qji82z53.cloudfront.net/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <script>
            document.getElementById("transform").onclick = function() {
                var form = document.getElementById("files");
                form.action = "@routes.Application.transform()";
                form.submit();
            }

            document.getElementById("pdf").onclick = function() {
                var form = document.getElementById("files");
                form.action = "@routes.Application.pdf()";
                form.target = "_blank";
                form.submit();
            }

            var xmleditor = ace.edit("xmleditor");
            var xml = document.getElementById("xml");
            xmleditor.setTheme("ace/theme/monokai");
            xmleditor.getSession().setMode("ace/mode/xml");
            xmleditor.getSession().setValue(xml.value);
            xmleditor.getSession().on('change', function(){
                xml.value = xmleditor.getSession().getValue();
            });

            var xsleditor = ace.edit("xsleditor");
            var xsl = document.getElementById("xsl");
            xsleditor.setTheme("ace/theme/monokai");
            xsleditor.getSession().setMode("ace/mode/xml");
            xsleditor.getSession().setValue(xsl.value);
            xsleditor.getSession().on('change', function(){
                xsl.value = xsleditor.getSession().getValue();
            });

            var resulteditor = ace.edit("resulteditor");
            var result = document.getElementById("result");
            resulteditor.setTheme("ace/theme/monokai");
            resulteditor.getSession().setMode("ace/mode/xml");
            resulteditor.getSession().setValue(result.value);
            resulteditor.getSession().on('change', function(){
                result.value = resulteditor.getSession().getValue();
            });
    </script>
    
}
